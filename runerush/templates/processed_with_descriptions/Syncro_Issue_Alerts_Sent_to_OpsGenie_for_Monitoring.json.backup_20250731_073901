{ "id": 117, "name": "Syncro Alert to OpsGenie", "nodes": [ { "id": "RuneFlow-branding-note", "name": "üî• RuneFlow Template", "type": "n8n-nodes-base.stickyNote", "position": [ -1000, -500 ], "parameters": { "color": 2, "width": 400, "height": 300, "content": "üî• RuneFlow AUTOMATION TEMPLATE üî•\\n\\nüìã Template: Syncro_Issue_Alerts_Sent_to_OpsGenie_for_Monitoring\\nüìÅ Category: Email & and & Communication\\nüë®‚Äçüíª Created by: RuneFlow\\nüìß Contact: bryan@runeflow.co\\nüåê Website: https://runeflow.co\\nüìû Support: \\n\\n‚ö° automation mastery THROUGH AUTOMATION ‚ö°\\n\\nüéØ Need custom automation?\\nContact RuneFlow for enterprise solutions!\\n\\nüöÄ Template Library: https://runeflow.co/templates" }, "typeVersion": 1 }, { "name": "Webhook", "type": "n8n-nodes-base.webhook", "position": [ 460, 380 ], "webhookId": "fromsyncro", "parameters": { "path": "fromsyncro", "options": {}, "httpMethod": "POST", "responseData": "allEntries", "responseMode": "lastNode" }, "typeVersion": 1 }, { "name": "Set", "type": "n8n-nodes-base.set", "position": [ 780, 380 ], "parameters": { "values": { "string": [ { "name": "AlertID", "value": "={{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"id\"]}}" }, { "name": "Description", "value": "={{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"computer_name\"]}} ({{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"customer\"][\"business_then_name\"]}}): {{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"formatted_output\"]}}" } ] }, "options": {}, "keepOnlySet": true }, "typeVersion": 1 }, { "name": "Create Alert", "type": "n8n-nodes-base.httpRequest", "position": [ 1180, 260 ], "parameters": { "url": "https://api.opsgenie.com/v2/alerts", "options": {}, "requestMethod": "POST", "authentication": "headerAuth", "bodyParametersUi": { "parameter": [ { "name": "message", "value": "={{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"computer_name\"]}} ({{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"customer\"][\"business_then_name\"]}}): {{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"formatted_output\"]}}" }, { "name": "alias", "value": "={{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"id\"]}}" }, { "name": "description", "value": "={{$node[\"Webhook\"].json[\"body\"][\"text\"]}}\n{{$node[\"Webhook\"].json[\"body\"][\"link\"]}}" } ] } }, "credentials": { "httpHeaderAuth": { "id": null, "name": "OpsGenie" } }, "typeVersion": 1 }, { "name": "Close Alert", "type": "n8n-nodes-base.httpRequest", "position": [ 1180, 460 ], "parameters": { "url": "=https://api.opsgenie.com/v2/alerts/{{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"id\"]}}/close?identifierType=alias", "options": {}, "requestMethod": "POST", "authentication": "headerAuth", "bodyParametersUi": { "parameter": [ { "name": "note", "value": "Issue resolved automatically according to Syncro." } ] } }, "credentials": { "httpHeaderAuth": { "id": null, "name": "OpsGenie" } }, "typeVersion": 1 }, { "name": "NoOp", "type": "n8n-nodes-base.noOp", "position": [ 780, 560 ], "parameters": {}, "typeVersion": 1 }, { "name": "IF", "type": "n8n-nodes-base.if", "position": [ 940, 380 ], "parameters": { "conditions": { "boolean": [ { "value1": "={{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"resolved\"]}}" } ] } }, "typeVersion": 1 }, { "name": "Switch", "type": "n8n-nodes-base.switch", "position": [ 620, 380 ], "parameters": { "rules": { "rules": [ { "value2": "agent_offline_trigger" } ] }, "value1": "={{$node[\"Webhook\"].json[\"body\"][\"attributes\"][\"properties\"][\"trigger\"]}}", "dataType": "string" }, "typeVersion": 1 } ], "active": false, "settings": {}, "connections": { "IF": { "main": [ [ { "node": "Create Alert", "type": "main", "index": 0 } ], [ { "node": "Close Alert", "type": "main", "index": 0 } ] ] }, "Set": { "main": [ [ { "node": "IF", "type": "main", "index": 0 } ] ] }, "Switch": { "main": [ [ { "node": "Set", "type": "main", "index": 0 } ], [ { "node": "NoOp", "type": "main", "index": 0 } ] ] }, "Webhook": { "main": [ [ { "node": "Switch", "type": "main", "index": 0 } ] ] } }, "meta": { "RuneFlow": { "provider": "RuneFlow - Norse Automation Mastery", "contact": "bryan@runeflow.co", "website": "https://runeflow.co", "support": "", "category": "Email & and & Communication", "template_name": "Syncro_Issue_Alerts_Sent_to_OpsGenie_for_Monitoring" } }, "runeflow_category": "·õñ·õó Email Marketing", "runeflow_description": "Engage Customers", "runeflow_contact": "contact@runeflow.com", "runeflow_website": "https://runeflow.com", "runeflow_tagline": "Unlock the Power of Ancient Wisdom Through Modern Automation"
}