# 🤖 RuneFlow Twitter Bot - Daily Template Drop System\n\nAutomated Twitter bot that posts one n8n template daily to @runeflowplates, making it available for 24 hours only with limited downloads.\n\n## 🎯 Features\n\n- **Daily Automation**: Posts one template every day at 10 AM UTC\n- **Limited Access**: Each template is available for 24 hours only\n- **Download Tracking**: Monitors downloads and engagement metrics\n- **Smart Rotation**: Intelligent template selection based on quality and popularity\n- **Engaging Tweets**: Auto-generated compelling tweet content with hashtags\n- **Analytics**: Tracks likes, retweets, views, and downloads\n- **Admin Controls**: Manual posting and bot management endpoints\n\n## 📁 Project Structure\n\n```\ntwitter-bot/\n├── controllers/\n│   └── twitterBotController.js    # Main bot logic and scheduling\n├── services/\n│   ├── twitterService.js          # Twitter API integration\n│   └── templateService.js         # Template management\n├── routes/\n│   └── dailyTemplates.js          # Web routes for template access\n├── models/\n│   └── schema.sql                 # Database schema\n├── config/\n│   └── env.example                # Environment variables example\n├── test/\n│   └── testBot.js                 # Test suite\n├── views/\n│   └── daily/\n│       └── daily-template.html    # Template download page\n├── index.js                       # Main integration file\n└── README.md                      # This file\n```\n\n## 🚀 Setup Instructions\n\n### 1. Twitter API Setup\n\n1. Go to [Twitter Developer Portal](https://developer.twitter.com)\n2. Create a new app for @runeflowplates\n3. Generate API keys and access tokens\n4. Copy credentials to your `.env` file\n\n### 2. Environment Configuration\n\nAdd these variables to your main `.env` file:\n\n```bash\n# Twitter API Credentials\nTWITTER_API_KEY=your_twitter_api_key_here\nTWITTER_API_SECRET=your_twitter_api_secret_here\nTWITTER_ACCESS_TOKEN=your_twitter_access_token_here\nTWITTER_ACCESS_TOKEN_SECRET=your_twitter_access_token_secret_here\n\n# Admin authentication key\nADMIN_KEY=your_secure_admin_key_here\n```\n\n### 3. Database Setup\n\nThe bot will automatically create the required tables when initialized. Make sure your PostgreSQL database is accessible.\n\n### 4. Integration with Existing Server\n\nAdd to your main `server.js`:\n\n```javascript\nconst TwitterBotIntegration = require('./twitter-bot');\n\n// After your database connection is established\nconst twitterBot = new TwitterBotIntegration(database, app);\n\n// Initialize the bot (do this after your server is ready)\ntwitterBot.initialize()\n    .then(result => {\n        if (result.success) {\n            console.log('✅ Twitter Bot is running!');\n        } else {\n            console.error('❌ Twitter Bot failed to start:', result.error);\n        }\n    })\n    .catch(error => {\n        console.error('❌ Twitter Bot error:', error);\n    });\n```\n\n## 🔧 Testing\n\nRun the comprehensive test suite:\n\n```bash\nnode twitter-bot/test/testBot.js\n```\n\nThis will test:\n- Twitter API connection\n- Template loading from manifest\n- Tweet generation\n- Database schema\n- Full bot initialization\n\n## 📱 Daily Workflow\n\n### Automatic Process (10:00 AM UTC daily)\n\n1. **Template Selection**: Bot picks the highest-priority template that hasn't been posted recently\n2. **Tweet Generation**: Creates engaging tweet with:\n   - Template name and description\n   - Use case based on category\n   - Node count and quality score\n   - Relevant hashtags\n   - Limited-time access link\n3. **Database Recording**: Saves tweet info and creates access token\n4. **Expiration**: Token expires at 11:59 PM same day\n\n### Manual Controls\n\n- **Trigger Post**: `POST /bot/trigger` (requires admin key)\n- **Check Status**: `GET /bot/status`\n- **Cleanup**: `POST /bot/cleanup` (requires admin key)\n\n## 🌐 Web Routes\n\n- `GET /daily/:token` - Template download page\n- `GET /daily/:token/download` - Direct template download\n- `GET /daily/:token/info` - Template information (JSON)\n- `GET /admin/today?key=ADMIN_KEY` - Today's template status\n\n## 📊 Tweet Examples\n\n```\n🤖 Daily Template Drop: \"AI-Powered Customer Query Response System\"\n\n🤖 Automate research workflows with AI\n\n✨ 35 nodes\n⭐ Quality: 9/10\n\n⏰ Available for TODAY ONLY!\n\nGet it: https://runeflow.xyz/daily/abc123def456\n\n#n8n #automation #nocode #runeflow #AI #research #chatbot\n```\n\n## 🔄 Template Rotation Logic\n\nThe bot uses a smart priority system:\n\n- **Quality Score**: Higher quality templates get priority (0-90 points)\n- **Node Count**: More complex templates score higher (0-20 points)\n- **Category Bonus**: Popular categories get extra points\n- **Recency**: Templates posted recently get lower priority\n- **Random Factor**: Ensures variety in selection\n\n## 📈 Analytics & Metrics\n\nTracked metrics:\n- **Tweet Performance**: Views, likes, retweets\n- **Download Stats**: Download count per template\n- **Engagement**: Click-through rates\n- **Popular Categories**: Most downloaded template types\n\n## 🛡️ Security Features\n\n- **Token Expiration**: All download links expire after 24 hours\n- **Download Limits**: Maximum 100 downloads per token\n- **Admin Authentication**: Secure endpoints with admin key\n- **Rate Limiting**: Built into existing server infrastructure\n\n## 🐛 Troubleshooting\n\n### Common Issues\n\n1. **Twitter API Errors**\n   - Check API credentials\n   - Ensure account has proper permissions\n   - Verify rate limits\n\n2. **Template Not Found**\n   - Check template file paths\n   - Verify manifest file is current\n   - Ensure template IDs match\n\n3. **Database Errors**\n   - Check PostgreSQL connection\n   - Verify table creation\n   - Check environment variables\n\n### Logs & Debugging\n\nThe bot provides comprehensive logging:\n- Template selection process\n- Tweet posting results\n- Download tracking\n- Error details\n\n## 📅 Scheduling\n\n- **Daily Posts**: 10:00 AM UTC (configurable)\n- **Cleanup**: Midnight UTC (removes expired tokens)\n- **Metrics Update**: Hourly (during cleanup)\n\n## 🔮 Future Enhancements\n\n- **Image Generation**: Auto-generate preview images for tweets\n- **A/B Testing**: Test different tweet formats\n- **User Feedback**: Collect ratings on templates\n- **Advanced Analytics**: Detailed engagement reports\n- **Multiple Accounts**: Support for multiple Twitter accounts\n- **Webhook Integration**: Real-time notifications\n\n## 📞 Support\n\nFor issues or questions:\n- Check the test suite output\n- Review server logs\n- Verify environment variables\n- Test individual components\n\n## 🎉 Success Metrics\n\nTrack these KPIs:\n- Daily tweet engagement rate\n- Template download conversion\n- Follower growth on @runeflowplates\n- Most popular template categories\n- Peak download times\n\n---\n\n**Ready to launch your daily template drops! 🚀**\n\nThe bot will automatically start posting at 10 AM UTC every day, bringing fresh n8n templates to your audience with the excitement of limited-time availability."
